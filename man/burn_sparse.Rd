% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/burn_sparse.R
\name{burn_sparse}
\alias{burn_sparse}
\title{Sparse polygon rasterization with exact coverage fractions}
\usage{
burn_sparse(x, extent, dimension)
}
\arguments{
\item{x}{geometry input, one of:
\itemize{
\item an \code{sfc} geometry column (from sf)
\item a \code{geos_geometry} vector (from geos)
\item a list of raw vectors containing WKB
}}

\item{extent}{numeric vector \code{c(xmin, ymin, xmax, ymax)} defining the raster extent}

\item{dimension}{integer vector \code{c(ncol, nrow)} defining the grid dimensions}
}
\value{
A list with class \code{"gridburn"} containing:
\describe{
\item{\code{runs}}{data.frame with columns \code{row}, \code{col_start}, \code{col_end}, \code{id} —
run-length encoded interior cells (coverage fraction ≈ 1.0)}
\item{\code{edges}}{data.frame with columns \code{row}, \code{col}, \code{weight}, \code{id} —
boundary cells with partial coverage (0 < weight < 1)}
\item{\code{extent}}{the raster extent as supplied}
\item{\code{dimension}}{the grid dimensions as supplied}
}

Row and column indices are 1-based. Row 1 is the top (ymax) row.
The \code{id} column is a 1-based index into the input geometry vector.
}
\description{
Computes exact coverage fractions for polygon-grid intersections and returns
results in a sparse two-table format: run-length encoded interior cells and
individually weighted boundary cells.
}
\examples{
if (requireNamespace("geos", quietly = TRUE)) {
  library(geos)
  poly <- as_geos_geometry("POLYGON ((0.5 0.5, 2.5 0.5, 2.5 2.5, 0.5 2.5, 0.5 0.5))")
  result <- burn_sparse(poly, extent = c(0, 0, 3, 3), dimension = c(3, 3))
  result$runs
  result$edges
}
}
